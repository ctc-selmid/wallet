{"ast":null,"code":"import*as React from'react';import Platform from\"react-native-web/dist/exports/Platform\";import{NavigationHelpersContext}from'@react-navigation/core';import useLinkTo from\"./useLinkTo\";export default function useLinkProps(_ref){var to=_ref.to,action=_ref.action;var navigation=React.useContext(NavigationHelpersContext);var linkTo=useLinkTo();var onPress=function onPress(e){var _e$currentTarget;var shouldHandle=false;if(Platform.OS!=='web'||!e){shouldHandle=e?!e.defaultPrevented:true;}else if(!e.defaultPrevented&&!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&(e.button==null||e.button===0)&&[undefined,null,'','self'].includes((_e$currentTarget=e.currentTarget)===null||_e$currentTarget===void 0?void 0:_e$currentTarget.target)){e.preventDefault();shouldHandle=true;}if(shouldHandle){if(action){if(navigation){navigation.dispatch(action);}else{throw new Error(\"Couldn't find a navigation object.\");}}else{if(typeof to!=='string'){throw new Error(\"To 'to' option is invalid (found '\".concat(String(to),\"'. It must be a valid string for navigation.\"));}linkTo(to);}}};return{href:to,accessibilityRole:'link',onPress:onPress};}","map":{"version":3,"sources":["useLinkProps.tsx"],"names":["action","navigation","React","linkTo","useLinkTo","onPress","e","shouldHandle","Platform","String","href","accessibilityRole"],"mappings":"AAAA,MAAO,GAAP,CAAA,KAAA,KAAA,OAAA,C,6DAEA,OAAA,wBAAA,KAAA,wBAAA,CAIA,MAAA,CAAA,SAAA,mBAaA,cAAe,SAAA,CAAA,YAAA,MAA6C,IAAvB,CAAA,EAAuB,MAAvB,EAAuB,CAAjBA,MAAiB,MAAjBA,MAAiB,CAC1D,GAAMC,CAAAA,UAAU,CAAGC,KAAK,CAALA,UAAAA,CAAnB,wBAAmBA,CAAnB,CACA,GAAMC,CAAAA,MAAM,CAAGC,SAAf,EAAA,CAEA,GAAMC,CAAAA,OAAO,CACXC,QADID,CAAAA,OACJC,CAAAA,CADc,CAEX,CAAA,GAAA,CAAA,gBAAA,CACH,GAAIC,CAAAA,YAAY,CAAhB,KAAA,CAEA,GAAIC,QAAQ,CAARA,EAAAA,GAAAA,KAAAA,EAAyB,CAA7B,CAAA,CAAiC,CAC/BD,YAAY,CAAGD,CAAC,CAAG,CAACA,CAAC,CAAL,gBAAA,CAAhBC,IAAAA,CADF,CAAA,IAEO,IACL,CAACD,CAAC,CAAF,gBAAA,EAEA,EAAEA,CAAC,CAADA,OAAAA,EAAaA,CAAC,CAAdA,MAAAA,EAAyBA,CAAC,CAA1BA,OAAAA,EAAsCA,CAAC,CAFzC,QAEA,CAFA,GAICA,CAAC,CAADA,MAAAA,EAAAA,IAAAA,EAAoBA,CAAC,CAADA,MAAAA,GAJrB,CAAA,GAMA,CAAA,SAAA,CAAA,IAAA,CAAA,EAAA,CAAA,MAAA,EAAA,QAAA,CAAA,CAAA,gBAAA,CAAuCA,CAAC,CAAxC,aAAA,IAAA,IAAA,EAAA,gBAAA,GAAA,IAAA,EAAA,CAAA,IAAA,EAAA,CAAuCA,gBAAAA,CAPlC,MAOL,CAPK,CAQL,CACAA,CAAC,CAADA,cAAAA,GACAC,YAAY,CAAZA,IAAAA,CACD,CAED,GAAA,YAAA,CAAkB,CAChB,GAAA,MAAA,CAAY,CACV,GAAA,UAAA,CAAgB,CACdN,UAAU,CAAVA,QAAAA,CAAAA,MAAAA,EADF,CAAA,IAEO,CACL,KAAM,IAAA,CAAA,KAAA,CAAN,oCAAM,CAAN,CACD,CALH,CAAA,IAMO,CACL,GAAI,MAAA,CAAA,EAAA,GAAJ,QAAA,CAA4B,CAC1B,KAAM,IAAA,CAAA,KAAA,CAAA,qCAAA,MAAA,CACiCQ,MAAM,CADvC,EACuC,CADvC,CAAN,8CAAM,CAAA,CAAN,CAKD,CAEDN,MAAM,CAANA,EAAM,CAANA,CACD,CACF,CAtCH,CAAA,CAyCA,MAAO,CACLO,IAAI,CADC,EAAA,CAELC,iBAAiB,CAFZ,MAAA,CAGLN,OAAAA,CAAAA,OAHK,CAAP,CAKD","sourcesContent":["import * as React from 'react';\nimport { Platform, GestureResponderEvent } from 'react-native';\nimport {\n  NavigationAction,\n  NavigationHelpersContext,\n} from '@react-navigation/core';\nimport useLinkTo from './useLinkTo';\n\ntype Props = {\n  to: string;\n  action?: NavigationAction;\n};\n\n/**\n * Hook to get props for an anchor tag so it can work with in page navigation.\n *\n * @param props.to Absolute path to screen (e.g. `/feeds/hot`).\n * @param props.action Optional action to use for in-page navigation. By default, the path is parsed to an action based on linking config.\n */\nexport default function useLinkProps({ to, action }: Props) {\n  const navigation = React.useContext(NavigationHelpersContext);\n  const linkTo = useLinkTo();\n\n  const onPress = (\n    e?: React.MouseEvent<HTMLAnchorElement, MouseEvent> | GestureResponderEvent\n  ) => {\n    let shouldHandle = false;\n\n    if (Platform.OS !== 'web' || !e) {\n      shouldHandle = e ? !e.defaultPrevented : true;\n    } else if (\n      !e.defaultPrevented && // onPress prevented default\n      // @ts-expect-error: these properties exist on web, but not in React Native\n      !(e.metaKey || e.altKey || e.ctrlKey || e.shiftKey) && // ignore clicks with modifier keys\n      // @ts-expect-error: these properties exist on web, but not in React Native\n      (e.button == null || e.button === 0) && // ignore everything but left clicks\n      // @ts-expect-error: these properties exist on web, but not in React Native\n      [undefined, null, '', 'self'].includes(e.currentTarget?.target) // let browser handle \"target=_blank\" etc.\n    ) {\n      e.preventDefault();\n      shouldHandle = true;\n    }\n\n    if (shouldHandle) {\n      if (action) {\n        if (navigation) {\n          navigation.dispatch(action);\n        } else {\n          throw new Error(\"Couldn't find a navigation object.\");\n        }\n      } else {\n        if (typeof to !== 'string') {\n          throw new Error(\n            `To 'to' option is invalid (found '${String(\n              to\n            )}'. It must be a valid string for navigation.`\n          );\n        }\n\n        linkTo(to);\n      }\n    }\n  };\n\n  return {\n    href: to,\n    accessibilityRole: 'link' as const,\n    onPress,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}