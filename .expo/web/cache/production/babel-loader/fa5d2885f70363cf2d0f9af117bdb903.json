{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _extends from\"@babel/runtime/helpers/extends\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import PropTypes from'prop-types';import React,{Component}from'react';import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import LayoutAnimation from\"react-native-web/dist/exports/LayoutAnimation\";import UIManager from\"react-native-web/dist/exports/UIManager\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import Text from\"react-native-web/dist/exports/Text\";import Input from\"../input/Input\";import Icon from\"../icons/Icon\";import{renderNode,nodeType}from\"../helpers\";var defaultSearchIcon=function defaultSearchIcon(theme){return{type:'ionicon',size:20,name:'ios-search',color:theme.colors.platform.ios.grey};};var defaultClearIcon=function defaultClearIcon(theme){return{type:'ionicon',name:'ios-close-circle',size:20,color:theme.colors.platform.ios.grey};};var SearchBar=function(_Component){_inherits(SearchBar,_Component);var _super=_createSuper(SearchBar);function SearchBar(props){var _this;_classCallCheck(this,SearchBar);_this=_super.call(this,props);_this.focus=function(){_this.input.focus();};_this.blur=function(){_this.input.blur();};_this.clear=function(){_this.input.clear();_this.onChangeText('');_this.props.onClear();};_this.cancel=function(){_this.onChangeText('');if(_this.props.showCancel){UIManager.configureNextLayoutAnimation&&LayoutAnimation.easeInEaseOut();_this.setState({hasFocus:false});}setTimeout(function(){_this.blur();_this.props.onCancel();},0);};_this.onFocus=function(event){_this.props.onFocus(event);UIManager.configureNextLayoutAnimation&&LayoutAnimation.easeInEaseOut();_this.setState({hasFocus:true,isEmpty:_this.props.value===''});};_this.onBlur=function(event){_this.props.onBlur(event);if(!_this.props.showCancel){UIManager.configureNextLayoutAnimation&&LayoutAnimation.easeInEaseOut();_this.setState({hasFocus:false});}};_this.onChangeText=function(text){_this.props.onChangeText(text);_this.setState({isEmpty:text===''});};var value=props.value;_this.state={hasFocus:false,isEmpty:value?value==='':true,cancelButtonWidth:null};return _this;}_createClass(SearchBar,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,theme=_this$props.theme,cancelButtonProps=_this$props.cancelButtonProps,cancelButtonTitle=_this$props.cancelButtonTitle,clearIcon=_this$props.clearIcon,containerStyle=_this$props.containerStyle,leftIconContainerStyle=_this$props.leftIconContainerStyle,rightIconContainerStyle=_this$props.rightIconContainerStyle,inputContainerStyle=_this$props.inputContainerStyle,inputStyle=_this$props.inputStyle,placeholderTextColor=_this$props.placeholderTextColor,showLoading=_this$props.showLoading,loadingProps=_this$props.loadingProps,searchIcon=_this$props.searchIcon,showCancel=_this$props.showCancel,attributes=_objectWithoutProperties(_this$props,[\"theme\",\"cancelButtonProps\",\"cancelButtonTitle\",\"clearIcon\",\"containerStyle\",\"leftIconContainerStyle\",\"rightIconContainerStyle\",\"inputContainerStyle\",\"inputStyle\",\"placeholderTextColor\",\"showLoading\",\"loadingProps\",\"searchIcon\",\"showCancel\"]);var _this$state=this.state,hasFocus=_this$state.hasFocus,isEmpty=_this$state.isEmpty;var loadingStyle=loadingProps.style,otherLoadingProps=_objectWithoutProperties(loadingProps,[\"style\"]);var buttonStyle=cancelButtonProps.buttonStyle,buttonTextStyle=cancelButtonProps.buttonTextStyle,buttonColor=cancelButtonProps.color,buttonDisabled=cancelButtonProps.disabled,buttonDisabledStyle=cancelButtonProps.buttonDisabledStyle,buttonDisabledTextStyle=cancelButtonProps.buttonDisabledTextStyle,otherCancelButtonProps=_objectWithoutProperties(cancelButtonProps,[\"buttonStyle\",\"buttonTextStyle\",\"color\",\"disabled\",\"buttonDisabledStyle\",\"buttonDisabledTextStyle\"]);return React.createElement(View,{style:StyleSheet.flatten([styles.container(theme),containerStyle])},React.createElement(Input,_extends({testID:\"searchInput\",renderErrorMessage:false},attributes,{onFocus:this.onFocus,onBlur:this.onBlur,onChangeText:this.onChangeText,ref:function ref(input){_this2.input=input;},inputStyle:StyleSheet.flatten([styles.input,inputStyle]),containerStyle:{paddingHorizontal:0},inputContainerStyle:StyleSheet.flatten([styles.inputContainer(theme),hasFocus&&{marginRight:this.state.cancelButtonWidth},inputContainerStyle]),leftIcon:renderNode(Icon,searchIcon,defaultSearchIcon(theme)),leftIconContainerStyle:StyleSheet.flatten([styles.leftIconContainerStyle,leftIconContainerStyle]),placeholderTextColor:placeholderTextColor||theme.colors.platform.ios.grey,rightIcon:React.createElement(View,{style:{flexDirection:'row'}},showLoading&&React.createElement(ActivityIndicator,_extends({key:\"loading\",style:StyleSheet.flatten([{marginRight:5},loadingStyle])},otherLoadingProps)),!isEmpty&&renderNode(Icon,clearIcon,_objectSpread(_objectSpread({},defaultClearIcon(theme)),{},{key:'cancel',onPress:this.clear}))),rightIconContainerStyle:StyleSheet.flatten([styles.rightIconContainerStyle,rightIconContainerStyle])})),React.createElement(View,{style:StyleSheet.flatten([styles.cancelButtonContainer,{opacity:this.state.cancelButtonWidth===null?0:1,right:hasFocus?0:-this.state.cancelButtonWidth}]),onLayout:function onLayout(event){return _this2.setState({cancelButtonWidth:event.nativeEvent.layout.width});}},React.createElement(TouchableOpacity,_extends({accessibilityRole:\"button\",onPress:this.cancel,disabled:buttonDisabled},otherCancelButtonProps),React.createElement(View,{style:[buttonStyle,buttonDisabled&&buttonDisabledStyle]},React.createElement(Text,{style:[styles.buttonTextStyle,buttonColor&&{color:buttonColor},buttonTextStyle,buttonDisabled&&(buttonDisabledTextStyle||styles.buttonTextDisabled)],disabled:buttonDisabled},cancelButtonTitle)))));}}]);return SearchBar;}(Component);SearchBar.propTypes={value:PropTypes.string,cancelButtonProps:PropTypes.object,cancelButtonTitle:PropTypes.string,clearIcon:nodeType,searchIcon:nodeType,loadingProps:PropTypes.object,showLoading:PropTypes.bool,onClear:PropTypes.func,onCancel:PropTypes.func,onFocus:PropTypes.func,onBlur:PropTypes.func,onChangeText:PropTypes.func,containerStyle:PropTypes.oneOfType([PropTypes.object,PropTypes.array]),leftIconContainerStyle:PropTypes.oneOfType([PropTypes.object,PropTypes.array]),rightIconContainerStyle:PropTypes.oneOfType([PropTypes.object,PropTypes.array]),inputContainerStyle:PropTypes.oneOfType([PropTypes.object,PropTypes.array]),inputStyle:PropTypes.oneOfType([PropTypes.object,PropTypes.array]),placeholderTextColor:PropTypes.string,showCancel:PropTypes.bool};SearchBar.defaultProps={value:'',cancelButtonTitle:'Cancel',loadingProps:{},cancelButtonProps:{},showLoading:false,onClear:function onClear(){return null;},onCancel:function onCancel(){return null;},onFocus:function onFocus(){return null;},onBlur:function onBlur(){return null;},onChangeText:function onChangeText(){return null;},searchIcon:{name:'ios-search'},clearIcon:{name:'ios-close-circle'},showCancel:false};var styles={container:function container(theme){return{backgroundColor:theme.colors.white,paddingBottom:13,paddingTop:13,flexDirection:'row',overflow:'hidden',alignItems:'center'};},input:{marginLeft:6,overflow:'hidden'},inputContainer:function inputContainer(theme){return{borderBottomWidth:0,backgroundColor:theme.colors.platform.ios.searchBg,borderRadius:9,minHeight:36,marginLeft:8,marginRight:8};},rightIconContainerStyle:{marginRight:8},leftIconContainerStyle:{marginLeft:8},buttonTextStyle:{color:'#007aff',textAlign:'center',padding:8,fontSize:18},buttonTextDisabled:{color:'#cdcdcd'},cancelButtonContainer:{position:'absolute'}};export default SearchBar;","map":{"version":3,"sources":["/Users/naohirofujie/Develop/MSVC/bbwallet/browser-wallet/wallet/node_modules/react-native-elements/src/searchbar/SearchBar-ios.js"],"names":["PropTypes","React","Component","Input","Icon","renderNode","nodeType","defaultSearchIcon","theme","type","size","name","color","colors","platform","ios","grey","defaultClearIcon","SearchBar","props","focus","input","blur","clear","onChangeText","onClear","cancel","showCancel","UIManager","configureNextLayoutAnimation","LayoutAnimation","easeInEaseOut","setState","hasFocus","setTimeout","onCancel","onFocus","event","isEmpty","value","onBlur","text","state","cancelButtonWidth","cancelButtonProps","cancelButtonTitle","clearIcon","containerStyle","leftIconContainerStyle","rightIconContainerStyle","inputContainerStyle","inputStyle","placeholderTextColor","showLoading","loadingProps","searchIcon","attributes","loadingStyle","style","otherLoadingProps","buttonStyle","buttonTextStyle","buttonColor","buttonDisabled","disabled","buttonDisabledStyle","buttonDisabledTextStyle","otherCancelButtonProps","StyleSheet","flatten","styles","container","paddingHorizontal","inputContainer","marginRight","flexDirection","key","onPress","cancelButtonContainer","opacity","right","nativeEvent","layout","width","buttonTextDisabled","propTypes","string","object","bool","func","oneOfType","array","defaultProps","backgroundColor","white","paddingBottom","paddingTop","overflow","alignItems","marginLeft","borderBottomWidth","searchBg","borderRadius","minHeight","textAlign","padding","fontSize","position"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport {\n  TouchableOpacity,\n  LayoutAnimation,\n  UIManager,\n  StyleSheet,\n  View,\n  ActivityIndicator,\n  Text,\n} from 'react-native';\n\nimport Input from '../input/Input';\nimport Icon from '../icons/Icon';\nimport { renderNode, nodeType } from '../helpers';\n\nconst defaultSearchIcon = (theme) => ({\n  type: 'ionicon',\n  size: 20,\n  name: 'ios-search',\n  color: theme.colors.platform.ios.grey,\n});\nconst defaultClearIcon = (theme) => ({\n  type: 'ionicon',\n  name: 'ios-close-circle',\n  size: 20,\n  color: theme.colors.platform.ios.grey,\n});\n\nclass SearchBar extends Component {\n  constructor(props) {\n    super(props);\n    const { value } = props;\n\n    this.state = {\n      hasFocus: false,\n      isEmpty: value ? value === '' : true,\n      cancelButtonWidth: null,\n    };\n  }\n\n  focus = () => {\n    this.input.focus();\n  };\n\n  blur = () => {\n    this.input.blur();\n  };\n\n  clear = () => {\n    this.input.clear();\n    this.onChangeText('');\n    this.props.onClear();\n  };\n\n  cancel = () => {\n    this.onChangeText('');\n\n    if (this.props.showCancel) {\n      UIManager.configureNextLayoutAnimation && LayoutAnimation.easeInEaseOut();\n      this.setState({ hasFocus: false });\n    }\n\n    setTimeout(() => {\n      this.blur();\n      this.props.onCancel();\n    }, 0);\n  };\n\n  onFocus = (event) => {\n    this.props.onFocus(event);\n    UIManager.configureNextLayoutAnimation && LayoutAnimation.easeInEaseOut();\n\n    this.setState({\n      hasFocus: true,\n      isEmpty: this.props.value === '',\n    });\n  };\n\n  onBlur = (event) => {\n    this.props.onBlur(event);\n\n    if (!this.props.showCancel) {\n      UIManager.configureNextLayoutAnimation && LayoutAnimation.easeInEaseOut();\n      this.setState({\n        hasFocus: false,\n      });\n    }\n  };\n\n  onChangeText = (text) => {\n    this.props.onChangeText(text);\n    this.setState({ isEmpty: text === '' });\n  };\n\n  render() {\n    const {\n      theme,\n      cancelButtonProps,\n      cancelButtonTitle,\n      clearIcon,\n      containerStyle,\n      leftIconContainerStyle,\n      rightIconContainerStyle,\n      inputContainerStyle,\n      inputStyle,\n      placeholderTextColor,\n      showLoading,\n      loadingProps,\n      searchIcon,\n      showCancel,\n      ...attributes\n    } = this.props;\n    const { hasFocus, isEmpty } = this.state;\n\n    const { style: loadingStyle, ...otherLoadingProps } = loadingProps;\n\n    const {\n      buttonStyle,\n      buttonTextStyle,\n      color: buttonColor,\n      disabled: buttonDisabled,\n      buttonDisabledStyle,\n      buttonDisabledTextStyle,\n      ...otherCancelButtonProps\n    } = cancelButtonProps;\n\n    return (\n      <View\n        style={StyleSheet.flatten([styles.container(theme), containerStyle])}\n      >\n        <Input\n          testID=\"searchInput\"\n          renderErrorMessage={false}\n          {...attributes}\n          onFocus={this.onFocus}\n          onBlur={this.onBlur}\n          onChangeText={this.onChangeText}\n          ref={(input) => {\n            this.input = input;\n          }}\n          inputStyle={StyleSheet.flatten([styles.input, inputStyle])}\n          containerStyle={{\n            paddingHorizontal: 0,\n          }}\n          inputContainerStyle={StyleSheet.flatten([\n            styles.inputContainer(theme),\n            hasFocus && { marginRight: this.state.cancelButtonWidth },\n            inputContainerStyle,\n          ])}\n          leftIcon={renderNode(Icon, searchIcon, defaultSearchIcon(theme))}\n          leftIconContainerStyle={StyleSheet.flatten([\n            styles.leftIconContainerStyle,\n            leftIconContainerStyle,\n          ])}\n          placeholderTextColor={\n            placeholderTextColor || theme.colors.platform.ios.grey\n          }\n          rightIcon={\n            <View style={{ flexDirection: 'row' }}>\n              {showLoading && (\n                <ActivityIndicator\n                  key=\"loading\"\n                  style={StyleSheet.flatten([{ marginRight: 5 }, loadingStyle])}\n                  {...otherLoadingProps}\n                />\n              )}\n              {!isEmpty &&\n                renderNode(Icon, clearIcon, {\n                  ...defaultClearIcon(theme),\n                  key: 'cancel',\n                  onPress: this.clear,\n                })}\n            </View>\n          }\n          rightIconContainerStyle={StyleSheet.flatten([\n            styles.rightIconContainerStyle,\n            rightIconContainerStyle,\n          ])}\n        />\n\n        <View\n          style={StyleSheet.flatten([\n            styles.cancelButtonContainer,\n            {\n              opacity: this.state.cancelButtonWidth === null ? 0 : 1,\n              right: hasFocus ? 0 : -this.state.cancelButtonWidth,\n            },\n          ])}\n          onLayout={(event) =>\n            this.setState({ cancelButtonWidth: event.nativeEvent.layout.width })\n          }\n        >\n          <TouchableOpacity\n            accessibilityRole=\"button\"\n            onPress={this.cancel}\n            disabled={buttonDisabled}\n            {...otherCancelButtonProps}\n          >\n            <View style={[buttonStyle, buttonDisabled && buttonDisabledStyle]}>\n              <Text\n                style={[\n                  styles.buttonTextStyle,\n                  buttonColor && { color: buttonColor },\n                  buttonTextStyle,\n                  buttonDisabled &&\n                    (buttonDisabledTextStyle || styles.buttonTextDisabled),\n                ]}\n                disabled={buttonDisabled}\n              >\n                {cancelButtonTitle}\n              </Text>\n            </View>\n          </TouchableOpacity>\n        </View>\n      </View>\n    );\n  }\n}\n\nSearchBar.propTypes = {\n  value: PropTypes.string,\n  cancelButtonProps: PropTypes.object,\n  cancelButtonTitle: PropTypes.string,\n  clearIcon: nodeType,\n  searchIcon: nodeType,\n  loadingProps: PropTypes.object,\n  showLoading: PropTypes.bool,\n  onClear: PropTypes.func,\n  onCancel: PropTypes.func,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n  onChangeText: PropTypes.func,\n  containerStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  leftIconContainerStyle: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.array,\n  ]),\n  rightIconContainerStyle: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.array,\n  ]),\n  inputContainerStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  inputStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  placeholderTextColor: PropTypes.string,\n  showCancel: PropTypes.bool,\n};\n\nSearchBar.defaultProps = {\n  value: '',\n  cancelButtonTitle: 'Cancel',\n  loadingProps: {},\n  cancelButtonProps: {},\n  showLoading: false,\n  onClear: () => null,\n  onCancel: () => null,\n  onFocus: () => null,\n  onBlur: () => null,\n  onChangeText: () => null,\n  searchIcon: { name: 'ios-search' },\n  clearIcon: { name: 'ios-close-circle' },\n  showCancel: false,\n};\n\nconst styles = {\n  container: (theme) => ({\n    backgroundColor: theme.colors.white,\n    paddingBottom: 13,\n    paddingTop: 13,\n    flexDirection: 'row',\n    overflow: 'hidden',\n    alignItems: 'center',\n  }),\n  input: {\n    marginLeft: 6,\n    overflow: 'hidden',\n  },\n  inputContainer: (theme) => ({\n    borderBottomWidth: 0,\n    backgroundColor: theme.colors.platform.ios.searchBg,\n    borderRadius: 9,\n    minHeight: 36,\n    marginLeft: 8,\n    marginRight: 8,\n  }),\n  rightIconContainerStyle: {\n    marginRight: 8,\n  },\n  leftIconContainerStyle: {\n    marginLeft: 8,\n  },\n  buttonTextStyle: {\n    color: '#007aff',\n    textAlign: 'center',\n    padding: 8,\n    fontSize: 18,\n  },\n  buttonTextDisabled: {\n    color: '#cdcdcd',\n  },\n  cancelButtonContainer: {\n    position: 'absolute',\n  },\n};\n\nexport default SearchBar;\n"]},"metadata":{},"sourceType":"module"}