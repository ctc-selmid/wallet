{"ast":null,"code":"'use strict';var BN=require('bn.js');var utils=require(\"../utils\");var assert=utils.assert;var cachedProperty=utils.cachedProperty;var parseBytes=utils.parseBytes;function Signature(eddsa,sig){this.eddsa=eddsa;if(typeof sig!=='object')sig=parseBytes(sig);if(Array.isArray(sig)){sig={R:sig.slice(0,eddsa.encodingLength),S:sig.slice(eddsa.encodingLength)};}assert(sig.R&&sig.S,'Signature without R or S');if(eddsa.isPoint(sig.R))this._R=sig.R;if(sig.S instanceof BN)this._S=sig.S;this._Rencoded=Array.isArray(sig.R)?sig.R:sig.Rencoded;this._Sencoded=Array.isArray(sig.S)?sig.S:sig.Sencoded;}cachedProperty(Signature,'S',function S(){return this.eddsa.decodeInt(this.Sencoded());});cachedProperty(Signature,'R',function R(){return this.eddsa.decodePoint(this.Rencoded());});cachedProperty(Signature,'Rencoded',function Rencoded(){return this.eddsa.encodePoint(this.R());});cachedProperty(Signature,'Sencoded',function Sencoded(){return this.eddsa.encodeInt(this.S());});Signature.prototype.toBytes=function toBytes(){return this.Rencoded().concat(this.Sencoded());};Signature.prototype.toHex=function toHex(){return utils.encode(this.toBytes(),'hex').toUpperCase();};module.exports=Signature;","map":{"version":3,"sources":["/Users/naohirofujie/.anyenv/envs/nodenv/versions/14.5.0/lib/node_modules/expo-cli/node_modules/elliptic/lib/elliptic/eddsa/signature.js"],"names":["BN","require","utils","assert","cachedProperty","parseBytes","Signature","eddsa","sig","Array","isArray","R","slice","encodingLength","S","isPoint","_R","_S","_Rencoded","Rencoded","_Sencoded","Sencoded","decodeInt","decodePoint","encodePoint","encodeInt","prototype","toBytes","concat","toHex","encode","toUpperCase","module","exports"],"mappings":"AAAA,aAEA,GAAIA,CAAAA,EAAE,CAAGC,OAAO,CAAC,OAAD,CAAhB,CACA,GAAIC,CAAAA,KAAK,CAAGD,OAAO,YAAnB,CACA,GAAIE,CAAAA,MAAM,CAAGD,KAAK,CAACC,MAAnB,CACA,GAAIC,CAAAA,cAAc,CAAGF,KAAK,CAACE,cAA3B,CACA,GAAIC,CAAAA,UAAU,CAAGH,KAAK,CAACG,UAAvB,CAUA,QAASC,CAAAA,SAAT,CAAmBC,KAAnB,CAA0BC,GAA1B,CAA+B,CAC7B,KAAKD,KAAL,CAAaA,KAAb,CAEA,GAAI,MAAOC,CAAAA,GAAP,GAAe,QAAnB,CACEA,GAAG,CAAGH,UAAU,CAACG,GAAD,CAAhB,CAEF,GAAIC,KAAK,CAACC,OAAN,CAAcF,GAAd,CAAJ,CAAwB,CACtBA,GAAG,CAAG,CACJG,CAAC,CAAEH,GAAG,CAACI,KAAJ,CAAU,CAAV,CAAaL,KAAK,CAACM,cAAnB,CADC,CAEJC,CAAC,CAAEN,GAAG,CAACI,KAAJ,CAAUL,KAAK,CAACM,cAAhB,CAFC,CAAN,CAID,CAEDV,MAAM,CAACK,GAAG,CAACG,CAAJ,EAASH,GAAG,CAACM,CAAd,CAAiB,0BAAjB,CAAN,CAEA,GAAIP,KAAK,CAACQ,OAAN,CAAcP,GAAG,CAACG,CAAlB,CAAJ,CACE,KAAKK,EAAL,CAAUR,GAAG,CAACG,CAAd,CACF,GAAIH,GAAG,CAACM,CAAJ,WAAiBd,CAAAA,EAArB,CACE,KAAKiB,EAAL,CAAUT,GAAG,CAACM,CAAd,CAEF,KAAKI,SAAL,CAAiBT,KAAK,CAACC,OAAN,CAAcF,GAAG,CAACG,CAAlB,EAAuBH,GAAG,CAACG,CAA3B,CAA+BH,GAAG,CAACW,QAApD,CACA,KAAKC,SAAL,CAAiBX,KAAK,CAACC,OAAN,CAAcF,GAAG,CAACM,CAAlB,EAAuBN,GAAG,CAACM,CAA3B,CAA+BN,GAAG,CAACa,QAApD,CACD,CAEDjB,cAAc,CAACE,SAAD,CAAY,GAAZ,CAAiB,QAASQ,CAAAA,CAAT,EAAa,CAC1C,MAAO,MAAKP,KAAL,CAAWe,SAAX,CAAqB,KAAKD,QAAL,EAArB,CAAP,CACD,CAFa,CAAd,CAIAjB,cAAc,CAACE,SAAD,CAAY,GAAZ,CAAiB,QAASK,CAAAA,CAAT,EAAa,CAC1C,MAAO,MAAKJ,KAAL,CAAWgB,WAAX,CAAuB,KAAKJ,QAAL,EAAvB,CAAP,CACD,CAFa,CAAd,CAIAf,cAAc,CAACE,SAAD,CAAY,UAAZ,CAAwB,QAASa,CAAAA,QAAT,EAAoB,CACxD,MAAO,MAAKZ,KAAL,CAAWiB,WAAX,CAAuB,KAAKb,CAAL,EAAvB,CAAP,CACD,CAFa,CAAd,CAIAP,cAAc,CAACE,SAAD,CAAY,UAAZ,CAAwB,QAASe,CAAAA,QAAT,EAAoB,CACxD,MAAO,MAAKd,KAAL,CAAWkB,SAAX,CAAqB,KAAKX,CAAL,EAArB,CAAP,CACD,CAFa,CAAd,CAIAR,SAAS,CAACoB,SAAV,CAAoBC,OAApB,CAA8B,QAASA,CAAAA,OAAT,EAAmB,CAC/C,MAAO,MAAKR,QAAL,GAAgBS,MAAhB,CAAuB,KAAKP,QAAL,EAAvB,CAAP,CACD,CAFD,CAIAf,SAAS,CAACoB,SAAV,CAAoBG,KAApB,CAA4B,QAASA,CAAAA,KAAT,EAAiB,CAC3C,MAAO3B,CAAAA,KAAK,CAAC4B,MAAN,CAAa,KAAKH,OAAL,EAAb,CAA6B,KAA7B,EAAoCI,WAApC,EAAP,CACD,CAFD,CAIAC,MAAM,CAACC,OAAP,CAAiB3B,SAAjB","sourcesContent":["'use strict';\n\nvar BN = require('bn.js');\nvar utils = require('../utils');\nvar assert = utils.assert;\nvar cachedProperty = utils.cachedProperty;\nvar parseBytes = utils.parseBytes;\n\n/**\n* @param {EDDSA} eddsa - eddsa instance\n* @param {Array<Bytes>|Object} sig -\n* @param {Array<Bytes>|Point} [sig.R] - R point as Point or bytes\n* @param {Array<Bytes>|bn} [sig.S] - S scalar as bn or bytes\n* @param {Array<Bytes>} [sig.Rencoded] - R point encoded\n* @param {Array<Bytes>} [sig.Sencoded] - S scalar encoded\n*/\nfunction Signature(eddsa, sig) {\n  this.eddsa = eddsa;\n\n  if (typeof sig !== 'object')\n    sig = parseBytes(sig);\n\n  if (Array.isArray(sig)) {\n    sig = {\n      R: sig.slice(0, eddsa.encodingLength),\n      S: sig.slice(eddsa.encodingLength)\n    };\n  }\n\n  assert(sig.R && sig.S, 'Signature without R or S');\n\n  if (eddsa.isPoint(sig.R))\n    this._R = sig.R;\n  if (sig.S instanceof BN)\n    this._S = sig.S;\n\n  this._Rencoded = Array.isArray(sig.R) ? sig.R : sig.Rencoded;\n  this._Sencoded = Array.isArray(sig.S) ? sig.S : sig.Sencoded;\n}\n\ncachedProperty(Signature, 'S', function S() {\n  return this.eddsa.decodeInt(this.Sencoded());\n});\n\ncachedProperty(Signature, 'R', function R() {\n  return this.eddsa.decodePoint(this.Rencoded());\n});\n\ncachedProperty(Signature, 'Rencoded', function Rencoded() {\n  return this.eddsa.encodePoint(this.R());\n});\n\ncachedProperty(Signature, 'Sencoded', function Sencoded() {\n  return this.eddsa.encodeInt(this.S());\n});\n\nSignature.prototype.toBytes = function toBytes() {\n  return this.Rencoded().concat(this.Sencoded());\n};\n\nSignature.prototype.toHex = function toHex() {\n  return utils.encode(this.toBytes(), 'hex').toUpperCase();\n};\n\nmodule.exports = Signature;\n"]},"metadata":{},"sourceType":"script"}